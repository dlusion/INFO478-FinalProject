rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.)
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.)
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.) %>%
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
# test <- lm(current_disorder ~ Are.you.self.employed., data = osmi2016)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.) %>%
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ Are.you.self.employed., data = osmi2016)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.) %>%
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ Are.you.self.employed., data = osmi2016)
summary(test)
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
library(plotly)
library(stats)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3) %>%
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ Are.you.self.employed., data = osmi2016)
summary(test)
View(osmi2016)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 75,
"company_size" = 2,
"country" = 73,
"request_leave" = 10) %>%
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 73,
"request_leave" = 10) %>%
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ Are.you.self.employed., data = osmi2016)
summary(test)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
select(c("current_disorder", 2, 3, 5, 10, 60, 62))
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
select(c("current_disorder", 2, 3, 5, 10, 60, 62)) %>%
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ Are.you.self.employed., data = osmi2016)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
select(c("current_disorder", 2, 3, 5, 10, 60, 62)) %>%
rowwise() %>%
drop_na(current_disorder) %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
# test <- lm(current_disorder ~ Are.you.self.employed., data = osmi2016)
# summary(test)
View(osmi2016)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
select(c("current_disorder", 2, 3, 5, 10, 60, 62)) %>%
rowwise() %>%
drop_na() %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
# test <- lm(current_disorder ~ Are.you.self.employed., data = osmi2016)
# summary(test)
View(osmi2016)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
select(c("current_disorder", 2, 3, 5, 10, 60, 62)) %>%
rowwise() %>%
drop_na() %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ factor(request_leave), data = osmi2016)
summary(test)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
select(c("current_disorder", 2, 3, 5, 10, 60, 62)) %>%
rowwise() %>%
drop_na() %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ factor(request_leave) + factor(tech_employer), data = osmi2016)
summary(test)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
select(c("current_disorder", 2, 3, 5, 10, 60, 62)) %>%
rowwise() %>%
drop_na() %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ factor(request_leave) + factor(tech_employer) + factor(company_size), data = osmi2016)
summary(test)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
select(c("current_disorder", 2, 3, 5, 10, 60, 62)) %>%
rowwise() %>%
drop_na() %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ factor(request_leave) + factor(tech_employer) + factor(company_size) + factor(work_position) + factor(mental_health_benefits), data = osmi2016)
summary(test)
osmi2016 <- read.csv("../Data/osmi_2016.csv", stringsAsFactors = FALSE)
osmi2016 <- osmi2016 %>%
rename("current_disorder" = Do.you.currently.have.a.mental.health.disorder.,
"tech_employer" = 3,
"mental_health_benefits" = 5,
"work_position" = 62,
"company_size" = 2,
"country" = 60,
"request_leave" = 10) %>%
select(c("current_disorder", 2, 3, 5, 10, 60, 62)) %>%
rowwise() %>%
drop_na() %>%
mutate(current_disorder = as.numeric(current_disorder == "Yes"))
test <- lm(current_disorder ~ factor(request_leave) + factor(tech_employer) + factor(company_size) + factor(mental_health_benefits), data = osmi2016)
summary(test)
View(osmi2016)
knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE)
# Set up
library(dplyr)
library(knitr)
library(ggplot2)
library(tidyverse)
# Load data
colombia_data <- read.csv('data/prepped/overview.csv')
top_deaths <-  colombia_data %>%
filter(metric == "deaths") %>%
top_n(n = 10, w = Value) %>%
arrange(-Value) %>%
mutate(
rank = rank(desc(Value)),
Value = paste(round((Value * 100), digits = 1), "%", sep = "")
) %>%
select(-c(metric))
kable(top_deaths, col.names = c("Cause", "Percentage of Deaths", "Rank"))
top_YLLs <- colombia_data %>%
filter(metric == "ylls") %>%
top_n(n = 10, w = Value) %>%
arrange(-Value) %>%
select(-c(metric)) %>%
mutate(Value = round(Value * 100, digits = 1))
ggplot(data = top_YLLs, aes(x = reorder(cause, Value), y = Value)) + geom_col() + coord_flip() + labs(
title = "Top 10 Causes of YLLs",
x = "Cause",
y = "Percentage of Total YLLs"
)
top_YLDs <- colombia_data %>%
filter(metric == "ylds") %>%
top_n(n = 10, w = Value) %>%
arrange(-Value) %>%
select(-c(metric)) %>%
mutate(Value = round(Value * 100, digits = 1))
ggplot(data = top_YLDs, aes(x = reorder(cause, Value), y = Value)) + geom_col() + coord_flip() + labs(
title = "Top 10 Causes of YLDs",
x = "Cause",
y = "Percentage of Total YLDs"
)
top_DALYs <-  colombia_data %>%
filter(metric == "dalys") %>%
top_n(n = 10, w = Value) %>%
arrange(-Value) %>%
mutate(
rank = rank(desc(Value)),
Value = paste(round((Value * 100), digits = 1), "%", sep = "")
) %>%
select(-c(metric))
kable(top_DALYs, col.names = c("Cause", "Percentage of DALYs", "Rank"))
colombia_data <- colombia_data %>%
spread(metric, Value) %>%
top_n(n = 10, w = dalys) %>%
select(-c(deaths)) %>%
gather("metric", "Value", 2:4) %>%
arrange(-Value) %>%
mutate(Value = round(Value * 100, digits = 1))
ggplot(data = colombia_data, aes(x = cause, y = Value, group = metric, color = metric)) + geom_point(size = 3) + coord_flip()
View(colombia_data)
knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE)
# Set up
library(dplyr)
library(knitr)
library(ggplot2)
library(tidyverse)
# Load data
colombia_data <- read.csv('data/prepped/overview.csv')
View(colombia_data)
source('~/.active-rstudio-document', echo=TRUE)
setwd("~/HW_UW_Sp20/INFO 478/INFO478-FinalProject/final")
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(dw)
source('~/.active-rstudio-document', echo=TRUE)
View(osmi)
View(dw)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
dw_t$disability.weight[1:2]
mean(dw_t$disability.weight[1:2])
mean(dw_t$disability.weight[3:4])
mean(dw_t$disability.weight[1:2]) +
mean(dw_t$disability.weight[3:4])
mean(mean(dw_t$disability.weight[1:2]),
mean(dw_t$disability.weight[3:4]))
source('~/.active-rstudio-document', echo=TRUE)
mean(2, 5)
mean(c(2, 5))
mean(c(mean(dw_t$disability.weight[1:2]), mean(dw_t$disability.weight[3:4])))
mean(c(mean(dw_t$disability.weight[1:2]), mean(dw_t$disability.weight[3:4])))
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
dw_t$Sequela[1] = "test"
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
View(dw)
View(dw_t)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
dw_t <- dw_t[-c(1, 2, 3, 4, 7, 8, 9), ]
View(dw_t)
dw_t <- dw_t[-c(1, 2, 3, 4, 7, 8, 9), ] %>%
add_column(Prevalence = 1)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
View(osmi)
target <- osmi$49
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(target)
source('~/.active-rstudio-document', echo=TRUE)
count(target)
source('~/.active-rstudio-document', echo=TRUE)
View(osmi)
View(target)
count(target, var = 1)
count(target, vars = 1)
count(target, vars = 1)
source('~/.active-rstudio-document', echo=TRUE)
View(target)
target[1] <- test
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(target)
source('~/.active-rstudio-document', echo=TRUE)
View(target)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(target)
source('~/.active-rstudio-document', echo=TRUE)
View(target)
source('~/.active-rstudio-document', echo=TRUE)
View(target)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(dw_t)
dw_t <- dw_t %>%
rowwise() %>%
mutate("ylds" = disability.weight * prevalence)
View(dw_t)
View(dw_t)
source('~/.active-rstudio-document', echo=TRUE)
View(yld_t)
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
runApp()
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
runApp()
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(yld_t)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(yld_t)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
runApp()
runApp()
runApp()
runApp()
